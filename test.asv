A = [339.1352 314.7024 -41.0372 -37.8712;
     314.7024 314.3521 -25.8048 -31.6588;
     -41.0372 -25.8048  23.0123   4.8959;
     -37.8712 -31.6588   4.8959   6.2389];
n = 4;
[Q, R] = decomposition(A);
Ak = A;
for i = 1:100
    [Qk, Rk] = decomposition(Ak);
    Ak = Rk * Qk;

    % 収束判定
    numElements = n * (n-1) / 2;
    lowerTraingleElements = zeros(1, numElements);
    index = 1;
    for j = 2:n
        for k = 1:j-1
            lowerTraingleElements(index) = Ak(j, k);
            index = index + 1;
        end
    end
    
    eps = 1e-6;
    if sum(abs(lowerTraingleElements)) < eps
        break;
    end
    
    eigA = zeros(n);
    for j = 1:n
        eigA(j) = Ak()
    end
end
